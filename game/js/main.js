class Aliens{constructor(a){this.game=a,this.spriteGroup=null,this.firingTimer=0,this.livingEnemies=[],this.aliensCounter=0,this.explosionSound=null,this.initAliens()}initAliens(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE);for(let a=1;5>a;a++)this.spriteGroup.createMultiple(100,`invader_${a}`);this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0),this.explosionSound=this.game.add.audio('enemy_explosion_sound'),this.explosionSound.allowMultiple=!0}spawn(){let a=Phaser.ArrayUtils.getRandomItem(this.spriteGroup.children.filter(function(a){return!a.alive}));for(a.reset(this.game.rnd.integerInRange(40,innerWidth-40),0);this.game.physics.arcade.overlap(a,this.spriteGroup,()=>{a.reset(this.game.rnd.integerInRange(40,innerWidth-40),0)},null,this););this.aliensCounter++,a.body.velocity.set(0,this.game.rnd.integerInRange(150,300))}shoot(a){if(this.game.time.now>this.firingTimer){let b=a.getFirstExists(!1);this.livingEnemies.length=0,this.spriteGroup.forEachAlive((a)=>this.livingEnemies.push(a)),b&&0<this.livingEnemies.length&&(this.livingEnemies.forEach((c)=>{this.game.rnd.integerInRange(0,1)&&(b=a.getFirstExists(!1),b.reset(c.x,c.y),b.body.velocity.y=400)}),this.firingTimer=this.game.time.now+1e3)}}}class AngryAliens{constructor(a){this.game=a,this.spriteGroup=null,this.firingTimer=0,this.livingEnemies=[],this.angryAliensCounter=0,this.explosionSound=null,this.initAliens()}initAliens(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE),this.spriteGroup.createMultiple(100,`angryInvader`),this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0),this.shootSound=this.game.add.audio('enemy_shoot_sound')}spawn(){let a=Phaser.ArrayUtils.getRandomItem(this.spriteGroup.children.filter(function(a){return!a.alive}));for(a.reset(this.game.rnd.integerInRange(40,innerWidth-40),0);this.game.physics.arcade.overlap(a,this.spriteGroup,()=>{a.reset(this.game.rnd.integerInRange(40,innerWidth-40),0)},null,this););this.angryAliensCounter++,this.game.physics.arcade.moveToXY(a,this.game.rnd.integerInRange(40,innerWidth-40),this.game.rnd.integerInRange(40,innerHeight-200),this.game.rnd.integerInRange(200,300)),this.game.time.events.add(Phaser.Timer.SECOND*this.game.rnd.integerInRange(1,2),()=>{a.body.velocity.setTo(0,0)},this);this.game.add.tween(a).to({x:this.game.rnd.integerInRange(40,innerWidth-40)},2e3,Phaser.Easing.Linear.None,!0,0,1e3,!0)}shoot(a,b){if(this.game.time.now>this.firingTimer){let c=b.getFirstExists(!1);this.livingEnemies.length=0,this.spriteGroup.forEachAlive((a)=>this.livingEnemies.push(a)),c&&0<this.livingEnemies.length&&(this.livingEnemies.forEach((d)=>{this.game.rnd.integerInRange(0,1)&&(c=b.getFirstExists(!1),c.reset(d.x,d.y),this.game.physics.arcade.moveToObject(c,a,1e3))}),this.shootSound.play(),this.firingTimer=this.game.time.now+1e3)}}}class BootState extends Phaser.State{create(){this.physics.startSystem(Phaser.Physics.ARCADE),this.state.start(`Load`,!0)}}class Bullets{constructor(a){this.game=a,this.spriteGroup=null,this.initAliens()}initAliens(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE),this.spriteGroup.createMultiple(8,`bullet`),this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0)}}class EnemyBullets{constructor(a){this.game=a,this.spriteGroup=null,this.initEnemyBullets()}initEnemyBullets(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE),this.spriteGroup.createMultiple(300,`enemyBullet`),this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0)}}class Explosions{constructor(a){this.game=a,this.spriteGroup=null,this.initExplosions()}initExplosions(){this.spriteGroup=this.game.add.group(),this.spriteGroup.createMultiple(30,`kaboom`),this.spriteGroup.forEach((a)=>{a.anchor.x=0.5,a.anchor.y=0.5,a.animations.add(`kaboom`)})}}class GameOverState extends Phaser.State{create(){this.starfield=this.game.add.tileSprite(0,0,innerWidth,innerHeight,`starfield_1`),this.stateText=this.add.text(this.world.centerX,this.world.centerY,`GAME OVER \n Click to restart\n\nYour score: ${score}`,{font:`84px Bungee`,fill:`#fff`,align:`center`}),this.stateText.anchor.setTo(0.5,0.5);let a=this.add.audio('gameover');a.play(),this.stateText.inputEnabled=!0,this.stateText.input.useHandCursor=!0,this.stateText.events.onInputDown.addOnce(this.restart,this)}update(){this.starfield.tilePosition.y+=2}restart(){this.state.start(`Menu`)}}class Lives{constructor(a){this.game=a,this.spriteGroup=null}spawn(){this.spriteGroup=this.game.add.group();for(let a,b=0;3>b;b++)a=this.spriteGroup.create(this.game.world.width-200+30*b,40,`life`),a.anchor.setTo(0.5,0.5),a.angle=90,a.alpha=0.4}}class LoadState extends Phaser.State{preload(){this.game.load.script('webfont','//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js'),this.load.audio(`gameover`,`audio/gameover-lose.wav`),this.load.audio(`ufoFlying`,`audio/wowow.wav`),this.load.audio(`main_theme`,`audio/music/main_theme.mp3`),this.load.audio(`pickup_sound`,`audio/pickup.wav`),this.load.audio(`player_shoot_sound`,`audio/weapon_player.wav`),this.load.audio(`player_explosion_sound`,`audio/explosion_player.wav`),this.load.audio(`enemy_shoot_sound`,`audio/weapon_enemy.mp3`),this.load.audio(`enemy_explosion_sound`,`audio/explosion_enemy.wav`),this.load.audio(`meteor_explosion_sound`,`audio/explosion_meteor.wav`),this.load.audio(`player_accelerate_sound`,`audio/playerAccelerate.wav`),this.load.image(`bullet`,`assets/Lasers/laserBlue03.png`),this.load.image(`specialEnemyBullet`,`assets/Lasers/laserBlue08.png`),this.load.image(`enemyBullet`,`assets/Lasers/laserRed02.png`),this.load.image(`invader_1`,`assets/enemies/enemyBlack1.png`),this.load.image(`invader_2`,`assets/enemies/enemyBlue2.png`),this.load.image(`invader_3`,`assets/enemies/enemyGreen3.png`),this.load.image(`invader_4`,`assets/enemies/enemyRed4.png`),this.load.image(`angryInvader`,`assets/enemies/angryEnemy.png`),this.load.image(`ship`,`assets/playerShip1_blue.png`),this.load.image(`ufo`,`assets/ufoYellow.png`),this.load.spritesheet(`kaboom`,`assets/Effects/kaboom-sprite.png`,250,250),this.load.image(`starfield_1`,`assets/Backgrounds/purple.png`),this.load.image(`starfield_2`,`assets/Backgrounds/darkPurple.png`),this.load.image(`starfield_3`,`assets/Backgrounds/blue.png`),this.load.image(`life`,`assets/Power-ups/playerLife1_blue.png`),this.load.image(`shipDamage_3`,`assets/Damage/playerShip1_damage1.png`),this.load.image(`shipDamage_2`,`assets/Damage/playerShip1_damage2.png`),this.load.image(`shipDamage_1`,`assets/Damage/playerShip1_damage3.png`),this.load.image(`shield`,`assets/Power-ups/shield_gold.png`),this.load.image(`bomb`,`assets/Power-ups/bomb.png`);for(let a=1;13>a;a++)this.load.image(`meteor_${a}`,`assets/Meteors/meteor_${a}.png`);for(let a=1;4>a;a++)this.load.image(`shield_${a}`,`assets/Effects/shield_${a}.png`)}create(){this.state.start(`Menu`)}}class MenuState extends Phaser.State{create(){this.starfield=this.game.add.tileSprite(0,0,innerWidth,innerHeight,`starfield_1`),this.stateText=this.add.text(this.world.centerX,this.world.centerY,`New Game`,{font:`84px Bungee`,fill:`#fff`,align:`center`}),this.stateText.anchor.setTo(0.5,0.5),this.stateText.inputEnabled=!0,this.stateText.input.useHandCursor=!0,this.stateText.events.onInputDown.add(this.start,this),this.mainPageText=this.add.text(this.world.centerX,this.world.centerY+100,`main page`,{font:`84px Bungee`,fill:`#fff`,align:`center`}),this.mainPageText.anchor.setTo(0.5,0.5),this.mainPageText.inputEnabled=!0,this.mainPageText.input.useHandCursor=!0,this.mainPageText.events.onInputDown.add(()=>{window.open('../index.html','_blank')},this)}update(){this.starfield.tilePosition.y+=2}start(){this.state.start(`Play`)}}class Meteors{constructor(a){this.game=a,this.spriteGroup=null,this.meteorsCounter=0,this.initMeteors()}initMeteors(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE);for(let a=1;13>a;a++)this.spriteGroup.createMultiple(100,`meteor_${a}`);this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0),this.explosionSound=this.game.add.audio('player_explosion_sound')}spawn(){if(this.game.rnd.integerInRange(0,1)){let a=Phaser.ArrayUtils.getRandomItem(this.spriteGroup.children.filter(function(a){return!a.alive}));a.reset(this.game.world.randomX,0),a.body.velocity.set(0,this.game.rnd.integerInRange(100,300)),a.body.angularVelocity=this.game.rnd.integerInRange(30,300),this.meteorsCounter++,1===this.meteorsCounter&&this.game.state.states.Play.mainTheme.play(``,0,1,!0)}}}class PlayState extends Phaser.State{create(){this.starfield=this.game.add.tileSprite(0,0,innerWidth,innerHeight,`starfield_1`),this.mainTheme=this.game.add.audio('main_theme'),this.bullets=new Bullets(this.game),this.enemyBullets=new EnemyBullets(this.game),this.player=new Player(this.game),this.player.spawn(),this.meteors=new Meteors(this.game),this.aliens=new Aliens(this.game),this.specialEnemyBullets=new SpecialEnemyBullets(this.game),this.angryAliens=new AngryAliens(this.game),this.ufo=new Ufo(this.game),this.powerUps=new PowerUps(this.game),this.score=0,this.scoreText=this.add.text(20,10,this.score,{font:`34px Bungee`,fill:`#fff`}),this.stateText=this.add.text(this.world.centerX,this.world.centerY,`PAUSED`,{font:`84px Bungee`,fill:`#fff`,align:`center`}),this.stateText.anchor.setTo(0.5,0.5),this.stateText.visible=!1,this.lives=new Lives(this.game),this.lives.spawn(),this.explosions=new Explosions(this.game),this.cursors=this.game.input.keyboard.createCursorKeys(),this.fireButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.pauseButton=this.game.input.keyboard.addKey(Phaser.Keyboard.ESC),this.accelerationButton=this.game.input.keyboard.addKey(Phaser.Keyboard.CONTROL),this.weaponKeyOne=this.game.input.keyboard.addKey(Phaser.Keyboard.ONE),this.weaponKeyTwo=this.game.input.keyboard.addKey(Phaser.Keyboard.TWO),this.game.onPause.add(this.startPause,this),this.gameComplexity=1,this.game.time.events.loop(1e3,()=>{this.gameComplexity+=0.01}),this.game.time.events.loop(6e4,()=>{this.ufo.spawn(),3>this.ufo.ufoCounter&&this.starfield.loadTexture(`starfield_${this.ufo.ufoCounter+1}`)}),this.game.time.events.loop(1e4,()=>{this.powerUps.spawn()}),this.game.input.keyboard.onUpCallback=(a)=>{a.keyCode==Phaser.Keyboard.ESC&&(!1==this.game.paused?this.startPause():this.endPause())},this.mainLoop=this.game.time.events.loop(this.game.rnd.integerInRange(1e3,2e3)/this.gameComplexity,this.createObstacles,this)}update(){this.starfield.tilePosition.y+=2,this.game.physics.arcade.collide(this.aliens.spriteGroup),this.game.physics.arcade.collide(this.meteors.spriteGroup),this.player.isAlive()&&(this.player.resetVelocity(),this.cursors.left.isDown?this.player.increaseLeftVelocity(this.accelerationButton.isDown):this.cursors.right.isDown?this.player.increaseRightVelocity(this.accelerationButton.isDown):this.cursors.up.isDown?this.player.increaseUpVelocity():this.cursors.down.isDown&&this.player.increaseDownVelocity(),this.fireButton.isDown&&this.player.shoot(this.bullets.spriteGroup),this.weaponKeyOne.isDown?this.player.currentBullets=1:this.weaponKeyTwo.isDown&&(this.player.currentBullets=2),this.ufo.isAlive()&&this.ufo.shoot(this.player.sprite,this.specialEnemyBullets.spriteGroup),this.aliens.shoot(this.enemyBullets.spriteGroup,this.player.sprite),this.angryAliens.shoot(this.player.sprite,this.specialEnemyBullets.spriteGroup),this.angryAliens.spriteGroup.forEachAlive((a)=>{a.rotation=this.game.physics.arcade.angleBetween(a,this.player.sprite)}),this.physics.arcade.overlap(this.bullets.spriteGroup,this.aliens.spriteGroup,this.collisionHandler,null,this),this.physics.arcade.overlap(this.bullets.spriteGroup,this.angryAliens.spriteGroup,this.collisionHandler,null,this),this.physics.arcade.overlap(this.bullets.spriteGroup,this.ufo.sprite,this.playerKillUfo,null,this),this.physics.arcade.overlap(this.enemyBullets.spriteGroup,this.player.sprite,this.enemyHitsPlayer,null,this),this.physics.arcade.overlap(this.enemyBullets.spriteGroup,this.meteors.spriteGroup,this.hitsMeteors,null,this),this.physics.arcade.overlap(this.bullets.spriteGroup,this.meteors.spriteGroup,this.hitsMeteors,null,this),this.physics.arcade.overlap(this.player.sprite,this.meteors.spriteGroup,this.enemyHitsPlayer,null,this),this.physics.arcade.overlap(this.player.sprite,this.aliens.spriteGroup,this.enemyHitsPlayer,null,this),this.physics.arcade.overlap(this.player.sprite,this.specialEnemyBullets.spriteGroup,this.enemyHitsPlayer,null,this),this.physics.arcade.overlap(this.player.sprite,this.powerUps.spriteGroup,this.pickupPowerUp,null,this),this.physics.arcade.overlap(this.bullets.spriteGroup,this.powerUps.spriteGroup,this.hitsMeteors,null,this))}createObstacles(){this.mainLoop.delay=this.game.rnd.integerInRange(1e3,2e3)/this.gameComplexity,this.meteors.spawn(),5<this.meteors.meteorsCounter&&(this.aliens.spawn(),!this.ufo.isAlive()&&0!=this.ufo.ufoCounter&&this.angryAliens.angryAliensCounter<2*this.ufo.ufoCounter&&this.angryAliens.spawn())}collisionHandler(a,b){a.kill(),b.kill(),this.score+=100,this.scoreText.text=this.score;let c=this.explosions.spriteGroup.getFirstExists(!1);c.reset(a.body.x,a.body.y),c.play(`kaboom`,30,!1,!0),this.aliens.explosionSound.play()}enemyHitsPlayer(a,b){let c,d=this.lives.spriteGroup.countLiving();if(b.kill(),this.player.currentShield)--this.player.currentShield,this.player.changeShield(d);else{let a=this.lives.spriteGroup.getFirstAlive();d?(a.kill(),c=this.player.makeBodyDamaged(d),this.player.sprite.loadTexture(c)):this.GameOver()}let e=this.explosions.spriteGroup.getFirstExists(!1);e.reset(b.body.x,b.body.y),e.play(`kaboom`,30,!1,!0),this.player.explosionSound.play(``,0,3)}pickupPowerUp(a,b){switch(b.kill(),this.powerUps.pickupSound.play(),b.key){case`shield`:{this.player.currentShield=0,this.player.changeShield(this.lives.spriteGroup.countLiving());break}case`life`:{this.lives.spriteGroup.callAll(`revive`),this.player.currentShield?(4===this.player.currentShield&&(this.player.currentShield=0),this.player.changeShield(this.lives.spriteGroup.countLiving())):this.player.sprite.loadTexture(`ship`);break}case`bomb`:{this.aliens.spriteGroup.forEachAlive((a)=>{let b=this.explosions.spriteGroup.getFirstExists(!1);b.reset(a.body.x,a.body.y),b.play(`kaboom`,30,!1,!0),a.kill(),this.aliens.explosionSound.play(),this.score+=100,this.scoreText.text=this.score}),this.angryAliens.spriteGroup.forEachAlive((a)=>{let b=this.explosions.spriteGroup.getFirstExists(!1);b.reset(a.body.x,a.body.y),b.play(`kaboom`,30,!1,!0),a.kill(),this.aliens.explosionSound.play(),this.score+=100,this.scoreText.text=this.score}),this.meteors.spriteGroup.forEachAlive((a)=>{let b=this.explosions.spriteGroup.getFirstExists(!1);b.reset(a.body.x,a.body.y),b.play(`kaboom`,30,!1,!0),a.kill(),this.meteors.explosionSound.play(),this.score+=50,this.scoreText.text=this.score});break}}}hitsMeteors(a,b){'bullet'==a.key&&(this.score+=50,this.scoreText.text=this.score),a.kill(),b.kill();let c=this.explosions.spriteGroup.getFirstExists(!1);c.reset(a.body.x,a.body.y),c.play(`kaboom`,30,!1,!0),this.meteors.explosionSound.play()}playerKillUfo(a,b){this.score+=1e5,this.scoreText.text=this.score,a.kill(),b.kill();let c=this.explosions.spriteGroup.getFirstExists(!1);c.reset(a.body.x,a.body.y),c.play(`kaboom`,30,!1,!0),this.aliens.explosionSound.play()}startPause(){this.game.paused=!0,this.stateText.visible=!0}endPause(){this.game.paused=!1,this.stateText.visible=!1}GameOver(){this.state.start(`GameOver`),this.mainTheme.stop(),this.ufo.flyingSound.stop(),this.player.sprite.kill(),score=this.score}}class Player{constructor(a){this.game=a,this.sprite=null,this.accelerationTime=0,this.bulletTime=0,this.currentBullets=1,this.currentShield=0}spawn(){this.sprite=this.game.add.sprite(innerWidth/2,innerHeight/1.2,`ship`),this.game.physics.arcade.enable(this.sprite),this.sprite.enableBody=!0,this.sprite.anchor.setTo(0.5),this.sprite.body.collideWorldBounds=!0,this.shootSound=this.game.add.audio('player_shoot_sound'),this.explosionSound=this.game.add.audio('player_explosion_sound'),this.accelerateSound=this.game.add.audio('player_accelerate_sound')}changeShield(a){let b,c,d=new Phaser.Rectangle(0,0,99,76);switch(3>a&&(b=this.makeBodyDamaged(a+1)),this.currentShield){case 0:{c=this.game.make.bitmapData(144,137),c.copy(`shield_3`),b?c.copyRect(b,d,22,30):c.copyRect(`ship`,d,22,30),this.currentShield=4;break}case 1:{b?this.sprite.loadTexture(b):this.sprite.loadTexture('ship'),this.currentShield=0,this.sprite.body.width=99,this.sprite.body.height=76;break}case 2:{c=this.game.make.bitmapData(133,108),c.copy(`shield_1`),b?c.copyRect(b,d,17,15):c.copyRect(`ship`,d,17,15);break}case 3:{c=this.game.make.bitmapData(143,119),c.copy(`shield_2`),b?c.copyRect(b,d,22,21):c.copyRect(`ship`,d,22,21);break}}c&&(this.sprite.loadTexture(c),this.sprite.body.width=c.width,this.sprite.body.height=c.height)}makeBodyDamaged(a){let b=this.game.make.bitmapData(99,76);return b.alphaMask(`shipDamage_${a}`,`ship`),b}resetVelocity(){this.sprite.body.velocity.setTo(0,0)}increaseLeftVelocity(a){this.sprite.body.velocity.x=-300-this.accelerateVelocity(a)}increaseRightVelocity(a){this.sprite.body.velocity.x=300+this.accelerateVelocity(a)}increaseUpVelocity(){this.sprite.body.velocity.y=-300}increaseDownVelocity(){this.sprite.body.velocity.y=300}isAlive(){return this.sprite.alive}shoot(a){if(this.game.time.now>this.bulletTime){let b=a.getFirstExists(!1);b&&(2==this.currentBullets&&(b.reset(this.sprite.x,this.sprite.y-30),b.rotation=2.8,this.game.physics.arcade.moveToXY(b,this.sprite.x+50,this.sprite.y+50,-1500),b=a.getFirstExists(!1),b.reset(this.sprite.x,this.sprite.y-30),b.rotation=-2.8,this.game.physics.arcade.moveToXY(b,this.sprite.x-50,this.sprite.y+50,-1500)),1==this.currentBullets&&(b.rotation=0,b.reset(this.sprite.x,this.sprite.y-30),b.body.velocity.y=-1500),this.bulletTime=this.game.time.now+800,this.shootSound.play())}}accelerateVelocity(a){return this.game.time.now>this.accelerationTime&&a?(this.accelerationTime=this.game.time.now+500,this.accelerateSound.play(),1e4):0}}class PowerUps{constructor(a){this.game=a,this.spriteGroup=null,this.initPowerUps()}initPowerUps(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE),this.spriteGroup.create(0,0,`bomb`).kill(),this.spriteGroup.create(0,0,`shield`).kill(),this.spriteGroup.create(0,0,`life`).kill(),this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0),this.pickupSound=this.game.add.audio('pickup_sound')}spawn(){let a=this.spriteGroup.children[this.game.rnd.integerInRange(0,2)];a.reset(this.game.world.randomX,0),a.body.velocity.set(0,this.game.rnd.integerInRange(120,300))}}class SpecialEnemyBullets{constructor(a){this.game=a,this.spriteGroup=null,this.initUfoBullets()}initUfoBullets(){this.spriteGroup=this.game.add.physicsGroup(Phaser.Physics.ARCADE),this.spriteGroup.createMultiple(100,`specialEnemyBullet`),this.spriteGroup.setAll(`anchor.x`,0.5),this.spriteGroup.setAll(`anchor.y`,0.5),this.spriteGroup.setAll(`outOfBoundsKill`,!0),this.spriteGroup.setAll(`checkWorldBounds`,!0)}}class Ufo{constructor(a){this.game=a,this.sprite=null,this.bulletTime=0,this.ufoCounter=0,this.initUfo()}initUfo(){this.sprite=this.game.add.sprite(0,0,`ufo`).kill(),this.game.physics.arcade.enable(this.sprite),this.sprite.enableBody=!0,this.sprite.anchor.setTo(0.5,0.5),this.shootSound=this.game.add.audio('player_shoot_sound'),this.explosionSound=this.game.add.audio('enemy_explosion_sound'),this.sprite.checkWorldBounds=!0,this.sprite.outOfBoundsKill=!0,this.flyingSound=this.game.add.audio('ufoFlying'),this.sprite.events.onOutOfBounds.add(()=>{this.flyingSound.stop()}),this.sprite.events.onKilled.add(()=>{this.flyingSound.stop()}),this.shootSound=this.game.add.audio('enemy_shoot_sound')}spawn(){this.sprite.reset(0,100),this.sprite.body.velocity.set(this.game.rnd.integerInRange(200,400),0),this.sprite.body.angularVelocity=this.game.rnd.integerInRange(100,300),this.flyingSound.play(``,0,1,!0),this.ufoCounter++}shoot(a,b){if(this.game.time.now>this.bulletTime){let c=b.getFirstExists(!1);c&&(c.reset(this.sprite.x,this.sprite.y),this.game.physics.arcade.moveToObject(c,a,1200),this.bulletTime=this.game.time.now+500,this.shootSound.play())}}isAlive(){return this.sprite.alive}}let score;WebFontConfig={google:{families:['Bungee']}};class Game extends Phaser.Game{constructor(){super('100%','100%',Phaser.AUTO,'victoryShip'),this.state.add(`Boot`,BootState,!1),this.state.add(`Load`,LoadState,!1),this.state.add(`Menu`,MenuState,!1),this.state.add(`Play`,PlayState,!1),this.state.add(`GameOver`,GameOverState,!1),this.state.start(`Boot`)}}new Game;